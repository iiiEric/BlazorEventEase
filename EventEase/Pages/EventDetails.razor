@page "/eventdetails/{id:int}"
@inject NavigationManager Navigation

<h3>Detalles del evento</h3>

@if (selectedEvent != null)
{
    <div class="event-details">
        <p><strong>Nombre:</strong> @selectedEvent.Name</p>
        <p><strong>Fecha:</strong> @selectedEvent.Date.ToShortDateString()</p>
        <p><strong>Ubicación:</strong> @selectedEvent.Location</p>
    </div>

    <a href="/register">Registrarse en este evento</a>
}
else
{
    <p>Evento no encontrado.</p>
}

@code {
    [Parameter] public int Id { get; set; }

    private EventModel? selectedEvent;

    protected override void OnInitialized()
    {
        // Datos simulados (en un caso real vendrían de un servicio en Data/EventService)
        var events = new List<EventModel>
        {
            new EventModel { Name="Conferencia Tech", Date=DateTime.Now.AddDays(5), Location="Barcelona" },
            new EventModel { Name="Networking Empresarial", Date=DateTime.Now.AddDays(10), Location="Madrid" }
        };

        selectedEvent = events.FirstOrDefault(e => events.IndexOf(e) + 1 == Id);
    }
}
